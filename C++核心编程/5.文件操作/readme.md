

# 5.文件操作

  程序运行时会产生临时数据，程序一旦运行结束都会被释放

  通过文件可以将数据持久化

  C++中对文件操作需要包含头文件<fstream>



- 文件类型分为两种：
  - 文本文件：文件以文本的ASCII码形式存储在计算机中
  - 二进制文件：文件以文本的二进制形式存储在计算机中，用户一般不能直接读懂

- 操作文件三大类：
  - ofstream:写操作
  - iftream:读操作
  - fstream:读写操作

**## 5.1** 文本文件-写文件

- 写文件步骤：

  1.包含头文件  #include<fstream>

  2.创建流对象  ofstream ofs;

  3.打开文件	ofs.open("文件路径",打开方式)；

  4.写数据	ofs << "写入数据" << endl;

  5.关闭文件

- 文件打开方式：

  - ios:: in 为读文件而打开文件
  - ios:out 为写文件而打开文件
  - ios::ate 初始位置：文件尾
  - ios::app 初识位置：文件尾
  - ios::trunc 如果文件存在先删除，再创建
  - ios::binary 二进制文件

- 注意：文件打开方式可以配合使用，利用|操作符

- 总结：

  - 文件操作必须包含头文件fstream
  -  读文件可以利用ofstream或者fstream
  -  打开文件时候需要指定文件的路径，以及打开方式
  - 利用<<可以向文件中写数据
  - 操作完毕，要关闭文件

**## 5.2** 文本文件-读文件

读文件和写文件步骤相似，但是读取方式相对比较多

- 读文件步骤：

  1.包含头文件  #include<fstream>

  2.创建流对象  ifstream ifs;

  3.打开文件	ifs.open("文件路径",打开方式)；

  4.读数据	四种方式读取（见5.2代码）

  5.关闭文件 ifs.close();

- 总结：

  - 读文件可以利用ifstream，或者fstream
  - 利用is_open函数可以判断文件是否打开成功
  - close关闭文件